



# 代理模式

* 简介：代理模式也称为委托模式，显而易见，通过名字就可以看出是通过委托别的介质来完成自己要完成的工作；

  ​	   代理(Proxy)是一种设计模式,提供了对目标对象另外的访问方式;即通过代理对象访问目标对象.这样做的好处是:可以在目标对象实现的基础上,增强额外的功能操作,即扩展目标对象的功能.
  	   这里使用到编程中的一个思想:不要随意去修改别人已经写好的代码或者方法,如果需改修改,可以通过代理的方式来扩展该方法；

* 优缺点：

  * 优点：
    1. 有些时候也需要使用代理模式，比如Binder机制就有使用到，客户端和服务端不在同一个进程时，系统不允许也无法让其双方通信，只能通过Binder机制（还有其他几种方式，但是Binder最高效）；而在Binder机制在跨进程通信的时候，因为跨进程通信的时候客户端无法直接调用服务端的方法，此时这个工作就由一个代理类来执行，需要将客户端调用到服务端的工作委托给一个代理类，通过它来完成跨进程的通信调用，在代理类中进行跨进程的数据转化，然后在调回服务端的OnTransact方法去执行，此时客户端就通过这个代理类与服务端进行了跨进程的通信了；
    2. 代码逻辑清楚分明；
    3. (1).职责清晰
       真实的角色就是实现实际的[业务逻辑](https://www.baidu.com/s?wd=%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)，不用关心其他非本职责的事务，通过后期的代理完成一件完成事务，附带的结果就是编程简洁清晰。
       (2).代理对象可以在客户端和目标对象之间起到中介的作用，这样起到了中介的作用和保护了目标对象的作用。
       (3).高扩展性
  * 缺点：如果真的有缺点，只能是增加了类的数量咯

* 使用场景：

  1. 在某些情况下，一个客户不想或者不能直接引用另一个对象，而代理对象可以在客户端和目标对象之间起到中介的作用。

  1. 当不想直接访问某个对象：钱在老板那里，你的工资当然是从你老板那里来的，但是你的老板难道会闲的蛋疼直接给你发工资吗，你老板当然是让财务部门来代理发工资这个功能

  2. 当访问某个对象有困难时：你打官司的时候，你难道这么牛逼懂法律能说得过对面律师，当然是请一个懂法律的律师帮你；

     或者，当年想要订做一批衣服，你这么牛批自己做咯，不会做当然是请别的工厂代理做咯；当你不满意时你还可以换个工厂做，这就是代理模式的解耦优点；

* ![代理模式](E:\android笔记\设计模式简\结构型模式\代理模式.jpg)